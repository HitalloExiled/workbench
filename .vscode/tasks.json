{
    // See https://go.microsoft.com/fwlink/?LinkId=733558
    // for the documentation about the tasks.json format    
    "version": "0.1.0",
    "tasks":
    [
        {
            "taskName":       "build",
            "command":        "tsc",
            "showOutput":     "always",
            "isShellCommand": true,
            "isBackground":   false,
            "problemMatcher": "$tsc",
            "options":
            {
                "cwd": "${fileDirname}"
            }
        },
        {
            "taskName":       "build-all",
            "command":        "cmd",
            "args":           ["/c", "node ./tasks/build"],
            "showOutput":     "always",
            "isBuildCommand": true,
            "isShellCommand": true,
            "isBackground":   true
        },
        {
            "taskName":       "client[build]",
            "command":        "cmd",
            "args":           ["/c", "node ./node_modules/@surface/compiler/index.js -t rebuild"],
            "showOutput":     "always",
            "isShellCommand": true,
            "isBackground":   true,
            "options":
            {
                "cwd": "${workspaceRoot}\\client"
            }
        },
        {
            "taskName":       "client[watch]",
            "command":        "cmd",
            "args":           ["/c", "node ./node_modules/@surface/compiler/index.js -t rebuild -w true"],
            "showOutput":     "always",
            "isShellCommand": true,
            "isBackground":   true,
            "options":
            {
                "cwd": "${workspaceRoot}\\client"
            }
        },
        {
            "taskName":       "code-split",
            "command":        "cmd",
            "args":           ["/c", "node ./node_modules/@surface/code-splitter/index.js -c source -e views -o app/lazy-loader.ts"],
            "showOutput":     "always",
            "isBackground":   true,
            "isShellCommand": true,
            "options":
            {
                "cwd": "${workspaceRoot}\\client"
            }
        },
        {
            "taskName":       "server[build]",
            "command":        "cmd",
            "args":           ["/c", "tsc"],
            "showOutput":     "always",
            "isBackground":   true,
            "isShellCommand": true,
            "options":
            {
                "cwd": "${workspaceRoot}\\server\\source"
            },
        },
        {
            "taskName":       "server[watch]",
            "command":        "cmd",
            "args":           ["/c", "tsc -w"],
            "showOutput":     "always",
            "isBackground":   true,
            "isShellCommand": true,
            "options":
            {
                "cwd": "${workspaceRoot}\\server\\source"
            }
        },
        {
            "taskName":       "tests[build]",
            "command":        "cmd",
            "args":           ["/c", "node ./node_modules/@surface/compiler/index.js -t rebuild"],
            "showOutput":     "always",
            "isShellCommand": true,
            "isBackground":   true,
            "options":
            {
                "cwd": "${workspaceRoot}\\modules\\tests"
            }
        },
        {
            "taskName":       "tests[watch]",
            "command":        "cmd",
            "args":           ["/c", "node ./node_modules/@surface/compiler/index.js -t rebuild -w true"],
            "showOutput":     "always",
            "isBackground":   true,
            "isShellCommand": true,
            "options":
            {
                "cwd": "${workspaceRoot}\\modules\\tests"
            }
        }        
    ]
}